
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
##   {META} FUNCTIONS
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Func IdMods(){ Identified True;  }
Func Clean(){ Corrupted False; }

#===============================================================================================================
# [[0200]] Global overriding rules
#===============================================================================================================

Section 6Links : Auto("6L"), LinkedSockets 6, Rarity <= Rare
{
	Show arm { Corrupted False; Class "Body Armour"; }
	Show wep { Empty(); }
}

#===============================================================================================================
# [[0200]] High tier influenced items
#===============================================================================================================

Section Influenced : Rarity <= Rare
{
#------------------------------------
#   [1234] ASPECTS
#------------------------------------
	Cont aspect_corruptedInfluenced { HasInfluence Crusader Elder Hunter Redeemer Shaper Warlord; Corrupted True; }
#------------------------------------
#   [1234] Crusader
#------------------------------------
	Section Crusader : HasInfluence Crusader, Auto("rare->crusader")
	{
		Show t11 { ItemLevel >= 82; BaseType Influenced.Crusader.t11; }
		Show t12 { ItemLevel >= 84; BaseType Influenced.Crusader.t12; }
		Show t13 { ItemLevel >= 86; BaseType Influenced.Crusader.t13; }
		Show t21 { ItemLevel >= 80; BaseType Influenced.Crusader.t21; }
		Show t22 { ItemLevel >= 85; BaseType Influenced.Crusader.t22; }
	}
#------------------------------------
#   [1234] Warlord
#------------------------------------
	Section Warlord : HasInfluence Warlord, Auto("rare->warlord")
	{
		Show t11 { ItemLevel >= 82; BaseType Influenced.Warlord.t11; }
		Show t12 { ItemLevel >= 84; BaseType Influenced.Warlord.t12; }
		Show t13 { ItemLevel >= 86; BaseType Influenced.Warlord.t13; }
		Show t21 { ItemLevel >= 80; BaseType Influenced.Warlord.t21; }
		Show t22 { ItemLevel >= 85; BaseType Influenced.Warlord.t22; }
	}
#------------------------------------
#   [1234] Redeemer
#------------------------------------
	Section Redeemer : HasInfluence Redeemer, Auto("rare->redeemer")
	{
		Show t11 { ItemLevel >= 82; BaseType Influenced.Redeemer.t11; }
		Show t12 { ItemLevel >= 84; BaseType Influenced.Redeemer.t12; }
		Show t13 { ItemLevel >= 86; BaseType Influenced.Redeemer.t13; }
		Show t21 { ItemLevel >= 80; BaseType Influenced.Redeemer.t21; }
		Show t22 { ItemLevel >= 85; BaseType Influenced.Redeemer.t22; }
	}
#------------------------------------
#   [1234] Hunter
#------------------------------------
	Section Hunter : HasInfluence Hunter, Auto("rare->hunter")
	{
		Show t11 { ItemLevel >= 82; BaseType Influenced.Hunter.t11; }
		Show t12 { ItemLevel >= 84; BaseType Influenced.Hunter.t12; }
		Show t13 { ItemLevel >= 86; BaseType Influenced.Hunter.t13; }
		Show t21 { ItemLevel >= 80; BaseType Influenced.Hunter.t21; }
		Show t22 { ItemLevel >= 85; BaseType Influenced.Hunter.t22; }
	}
#------------------------------------
#   [1234] Shaper
#------------------------------------
	Section Shaper : HasInfluence Shaper, Auto("rare->shaper")
	{
		Show t11 { ItemLevel >= 82; BaseType Influenced.Shaper.t11; }
		Show t12 { ItemLevel >= 84; BaseType Influenced.Shaper.t12; }
		Show t13 { ItemLevel >= 86; BaseType Influenced.Shaper.t13; }
		Show t21 { ItemLevel >= 80; BaseType Influenced.Shaper.t21; }
		Show t22 { ItemLevel >= 85; BaseType Influenced.Shaper.t22; }
	}
#------------------------------------
#   [1234] Elder
#------------------------------------
	Section Elder : HasInfluence Elder, Auto("rare->elder")
	{
		Show t11 { ItemLevel >= 82; BaseType Influenced.Elder.t11; }
		Show t12 { ItemLevel >= 84; BaseType Influenced.Elder.t12; }
		Show t13 { ItemLevel >= 86; BaseType Influenced.Elder.t13; }
		Show t21 { ItemLevel >= 80; BaseType Influenced.Elder.t21; }
		Show t22 { ItemLevel >= 85; BaseType Influenced.Elder.t22; }
	}
}

#===============================================================================================================
# [[0200]] Exotic Bases
#===============================================================================================================

# These bases don't usually drop during normal gameplay and are usually only acquired form certain sources
# These are bases such as heist and ritual bases.

Section ExoticBases : Auto("ExoticBases"), Rarity <= Rare
{
	## TODO: == and + together mess up parsing
	Show ExoticHeistBases { BaseType == bases.exotic.heist.lower bases.exotic.heist.higher }
	Show ExoticRitualBases { BaseType == bases.exotic.ritual.any }
	Show ExoticTalismanBases { BaseType == "Greatwolf Talisman" "Rot Head Talisman" }
}

#===============================================================================================================
# [[9999]] IDENTIFIED MOD FILTERING
#===============================================================================================================

Section IdModSection : IdMods
{
#------------------------------------
#   [1234] Physical
#------------------------------------
	Section Rare : Rarity "Rare", Auto("RareID")
	{
		Section Weapons : Class classes_attack, DropLevel >= 50
		{
			Show 2HighPhys { Mod >=2 w_cheatmods + w_temple_Phys + wdmg_phys[2] + wdmg_pphys[2] + wdmg_hphys[2] + ws_attack_speed[1] }
			Show 3HighPhys { Mod >=3 w_cheatmods + w_temple_Phys + wdmg_phys[3] + wdmg_pphys[3] + wdmg_hphys[3] + ws_attack_speed[2] + ws_attack_crit[1] + ws_critmulti[1] }
			Show 4HighPhys { Mod >=4 w_cheatmods + w_temple_Phys + wdmg_phys[4] + wdmg_pphys[4] + wdmg_hphys[4] + ws_attack_speed[3] + ws_attack_crit[2] + ws_critmulti[2] }
		}
#------------------------------------
#   [1234] Elemental
#------------------------------------
		Section FastEleWeapons : BaseType == quickWeapons
		{
			Show 3HighEle { Mod >=3 w_cheatmods + w_temple_Caster + wdmg_fire[2] + wdmg_cold[2] + wdmg_light[2] + ws_attack_speed[1] + ws_attack_crit[2] + ws_critmulti[1] }
			Show 4HighEle { Mod >=4 w_cheatmods + w_temple_Caster + wdmg_fire[3] + wdmg_cold[3] + wdmg_light[3] + ws_attack_speed[2] + ws_attack_crit[3] + ws_critmulti[2] }
		}
#------------------------------------
#   [1234] Gembased
#------------------------------------
		Section GemLevels
		{
			Show GemModsBow { Class "Bows"; Mod >=2 wgems_locallevelbow }
			Show GemModsCaster { Class classes_1hcast; Mod >=2 w_cheatmods + w_temple_Caster + wgems_alllevels_global + wgems_alllevels_global }
			Show GemModsStaves { Class classes_2hcast; Mod >=2 w_cheatmods + w_temple_Caster + wgems_alllevels_staff }
		}
#------------------------------------
#   [1234] Caster and Spellslinger
#------------------------------------
		Section Caster : Class == classes_1hcast
		{
			Show 3HighCaster { Mod >= 3 w_temple_Caster + w_cheatmods + wcast_spell[3] + wcast_fire[3] + wcast_cold[3] + wcast_light[3] + wsdmg_fire[2] + wsdmg_cold[2] + wsdmg_light[2] + wgems_alllevels + wgems_alllevels_global + ws_cast_crit[2] + ws_cast_speed[1] + ws_critmulti[1] + wmana[1] + wcast_hspell[1] }
			Show 4HighCaster { Mod >= 4 w_temple_Caster + w_cheatmods + wcast_spell[3] + wcast_fire[3] + wcast_cold[3] + wcast_light[3] + wsdmg_fire[3] + wsdmg_cold[3] + wsdmg_light[3] + wgems_alllevels + wgems_alllevels_global + ws_cast_crit[3] + ws_cast_speed[2] + ws_critmulti[2] + ws_manaregen[1] + wmana[3] + wcast_hspell[2] }
			Show FireCaster { Mod >= 3 w_temple_Caster + w_cheatmods + wcast_spell[3] + wcast_fire[3] + wsdmg_fire[3] + "Lava Conjurer's" "Tecton's" + wgems_alllevels_global + ws_cast_crit[3] + ws_cast_speed[2] + ws_critmulti[2] + ws_manaregen[1] + wmana[3] + ws_dot[2] + ws_burn[2] + wdmg_fire[2] + wdot_fire[2] + w_extrachaos_phys[2] + w_extrachaos_fire[2] + wdot_fire[3] + wcast_hspell[1] }
			Show ColdCaster { Mod >= 3 w_temple_Caster + w_cheatmods + wcast_spell[3] + wcast_cold[3] + wsdmg_cold[3] + "Winter Beckoner's" "Tecton's" + wgems_alllevels_global + ws_cast_crit[3] + ws_cast_speed[2] + ws_critmulti[2] + ws_manaregen[1] + wmana[3] + ws_dot[2] + wdmg_cold[2] + w_extrachaos_phys[2] + w_extrachaos_cold[2] + wdot_cold[3] + wcast_hspell[1] }
			Show LightCaster { Mod >= 3 w_temple_Caster + w_cheatmods + wcast_spell[3] + wcast_light[3] + wsdmg_light[3] + "Tempest Master's" "Tecton's" + wgems_alllevels_global + ws_cast_crit[3] + ws_cast_speed[2] + ws_critmulti[2] + ws_manaregen[1] + wmana[3] + ws_dot[2]  + wdmg_light[2] + w_extrachaos_phys[2] + w_extrachaos_light[2] + wcast_hspell[1] }
			Show ChaosCaster { Mod >= 3 w_temple_Caster + w_cheatmods + wcast_spell[3] + "Mad Lord's" "Tecton's" + wgems_alllevels_global + ws_cast_crit[3] + ws_cast_speed[2] + ws_critmulti[2] + ws_manaregen[2] + wmana[3] + ws_dot[2] + w_extrachaos_phys[2] + wcast_hspell[1] + wdot_chaos[3] }
			Show 3SpellSlinger { Mod >= 3 w_temple_Caster + w_cheatmods + wcast_spell[2] + wgems_alllevels + wgems_alllevels_global + ws_cast_crit[2] + ws_critmulti[1] + w_extrachaos_phys[1] + wcast_hspell[1] + wcast_fire[2] + wcast_cold[2] + wcast_light[2] + wsdmg_fire[2] + wsdmg_cold[2] + wsdmg_light[2] + wdmg_phys[1] + wdmg_fire[2] + wdmg_cold[2] + wdmg_light[2] + wdmg_pphys[3] + wdmg_chaos }
			Show 4SpellSlinger { Mod >= 4 w_temple_Caster + w_cheatmods + wcast_spell[3] + wgems_alllevels + wgems_alllevels_global + ws_cast_crit[3] + ws_critmulti[3] + w_extrachaos_phys[2] + wcast_hspell[1] + wcast_fire[3] + wcast_cold[3] + wcast_light[3] + wsdmg_fire[3] + wsdmg_cold[3] + wsdmg_light[3] + wdmg_phys[2] + wdmg_fire[3] + wdmg_cold[3] + wdmg_light[3] + wdmg_pphys[3] + wdmg_chaos + ws_attack_speed_smol[1] }
		}
#------------------------------------
#   [1234] Boots
#------------------------------------
		Section Boots : Class "Boots"
		{
			Show 3LifeBoots { Mod movespeed[2]; Mod >=2 res_fire[2] + res_light[2] + res_cold[2] + res_chaos[2] + lifeShort[2] + str[3] + dex[3] + int [3] + wmana[1] }
			Show 4LifeBoots { Mod movespeed[3]; Mod >=3 res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] + lifeShort[3] + str[4] + dex[4] + int [4] + wmana[2] }
			Show 3ESBoots {  DropLevel >= 55; Mod movespeed[3]; Mod >= 2 "Seething" "Pulsing" "Unassailable" "Indomitable" "Dauntless" + str[3] + dex[3] + int [3] }
			Show 4ESBoots {  DropLevel >= 55; Mod movespeed[3]; Mod >= 3 "Seething" "Pulsing" "Unassailable" "Indomitable" "Dauntless" + res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] + str[4] + dex[4] + int[4] }
			Show HighStatBoots { Mod >= 3 res_fire[2] + res_light[2] + res_cold[2] + res_chaos[2] + lifeShort[1] + str[2] + dex[2] + int[2] }
		}
#------------------------------------
#   [1234] Gloves
#------------------------------------
		Section Gloves : Class "Gloves"
		{
			Show 3LifeGloves { Mod >=3 res_fire[2] + res_light[2] + res_cold[2] + res_chaos[2] + lifeShort[2] + str[3] + dex[3] + int [3] + gloves_ias[2] + gloves_accu[2] + gloves_leech + gloves_hybridlife }
			Show 4LifeGloves { Mod >=3 res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] + lifeShort[4] + str[4] + dex[4] + int [4] + gloves_ias[2] + gloves_accu[2] + gloves_leech + gloves_fdmg + gloves_hybridlife + wmana[2] }
			Show 3ESGloves { DropLevel >= 55; Mod >= 2 "Seething" "Pulsing" "Unassailable" "Indomitable" "Dauntless" }
			Show 4ESGloves { DropLevel >= 55; Mod >= 4 "Prior's" "Deacon's" "Seraphim's" "Seething" "Pulsing" "Radiating" "Unassailable" "Indomitable" "Dauntless" + res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] + str[4] + dex[4] + int[4] + gloves_ias[2] + gloves_accu[2] + gloves_leech + gloves_fdmg + wmana[2] }
		}
#------------------------------------
#   [1234] Helmets
#------------------------------------
		Section Helmets : Class "Helmets"
		{
			Show 3LifeHelmet { Mod helm_life[2]; Mod >=3 res_fire[2] + res_light[2] + res_cold[2] + res_chaos[2] + str[3] + dex[3] + int [3] + gloves_accu[2] + minionGems + helmLifeHybrid + wmana[2] }
			Show 4LifeGloves { Mod helm_life[3]; Mod >=3 res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] + str[4] + dex[4] + int [4] + gloves_accu[3] + minionGems + helmLifeHybrid + wmana[3] }
			Show 3ESHelm { Mod >= 2 helmES; DropLevel >= 55; }
			Show 4ESHelm { Mod >= 4 "Prior's" "Deacon's" "Seraphim's" "Blazing" "Seething" "Pulsing" "Unassailable" "Indomitable" + res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] + str[4] + dex[4] + int[4] + gloves_accu[2] + helmEsHybrid + minionGems + wmana[2] }
		}
#------------------------------------
#   [1234] Amulets
#------------------------------------
		Section Amulets : Class "Amulets", Corrupted False
		{
			Show 3ModAttackAmu { Mod amu_life[2] + "Dazzling" "Resplendent"; Mod >=2 top2base + merged_amu_attack2 + universal2 + amu_esp[1] + amu_evp[1] + amu_arp[1] }
			Show 4ModAttackAmu { Mod amu_life[3] + "Dazzling" "Resplendent" "Incandescent"; Mod >=3 top3base + merged_amu_attack3 + universal3 + amu_esp[2] + amu_evp[2] + amu_arp[2] }
			Show 3ModCasterAmu { Mod amu_life[2] + "Dazzling" "Resplendent"; Mod >=2 top2base + merged_amu_caster2 + universal2 + amu_esp[2] }
			Show 4ModCasterAmu { Mod amu_life[3] + "Dazzling" "Resplendent" "Incandescent"; Mod >=3 top3base + merged_amu_caster3 + universal3 + amu_esp[3] }
			Show 4HighStatAmu { Mod >= 4 amu_life[3] + top2base + merged_amu_attack2 + universal2 + amu_esp[1] + amu_arp[1] + amu_evp[1] + "Dazzling" "Resplendent" }
		}
#------------------------------------
#   [1234] Rings
#------------------------------------		
		Section Rings : Class "Rings"
		{
			Show 2ModRingAttack { Mod ring_life[2] + ring_es[1]; Mod >=2 merged_ring_attack2 + merged_ring_universal2 }
			Show 3ModRingAttack { Mod ring_life[3] + ring_es[2]; Mod >=3 merged_ring_attack3 + merged_ring_universal3 }
			Show 2ModRingCaster { Mod ring_life[2] + ring_es[2]; Mod >=2 merged_ring_caster2 + merged_ring_universal2 }
			Show 3ModRingCaster { Mod ring_life[3] + ring_es[3]; Mod >=3 merged_ring_caster3 + merged_ring_universal3 }
		}
#------------------------------------
#   [1234] Quivers
#------------------------------------	
		Section Quivers : Class "Quivers"
		{
			Show 4ModQuiver { Mod belt_life[2]; Mod >=3 quivermods2 + dex[3] + res_fire[2] + res_light[2] + res_cold[2] + res_chaos[2] }
			Show 5ModQuiver { Mod belt_life[4]; Mod >=4 quivermods3 + dex[4] + res_fire[3] + res_light[3] + res_cold[3] + res_chaos[3] }
		}
#------------------------------------
#   [1234] Belts
#------------------------------------	
		Section Belts : Class "Belts", Corrupted False
		{
			Show 4ModBelt { Mod belt_life[2] + belt_es[1]; Mod >=3 belt_mana[1] + belt_wed[2] + belt_arm[2] + flasks + top2base }
			Show 5ModBelt { Mod belt_life[3] + belt_es[2]; Mod >=4 belt_mana[1] + belt_wed[3] + belt_arm[3] + flasks + top3base }
		}
#------------------------------------
#   [1234] Shields
#------------------------------------			
		Section Shields : Class "Shields", Corrupted False
		{
			Show 2LifeCasterShield { Mod shields_life[2] + shields_es[2] + shield_esp[2]; Mod >=2 casterShieldStats2 + universalShieldStats + top2base; }
			Show 2ESCasterShield { Mod >=2 shields_es[3] + shield_esp[3]; Mod casterShieldStats2 + universalShieldStats + top2base; }
			Show 3LifeCasterShield { Mod shields_life[3] + shields_es[3] + shield_esp[3]; Mod >=3 casterShieldStats3 + universalShieldStats + top3base; }
			Show 3ESCasterShield { Mod shields_es[4] + shield_esp[4]; Mod >=2 casterShieldStats3 + universalShieldStats + top3base; }
			Show 3DamageCasterShield { Mod >= 3 casterShieldStats2 }
			Show 4DamageCasterShield { Mod >= 4 casterShieldStats3 + universalShieldStats + top2base }
			Show HighDefShields { Mod >= 2 shields_highDefense; DropLevel >= 50; }
			Show HighStatShield { Mod >= 4 shields_highDefense + universalShieldStats + shields_life[2] + top2base; DropLevel >= 50; }
		}
#------------------------------------
#   [1234] Jewels
#------------------------------------	
		Section Jewels : Class "Jewels"
		{
			Show PotentiallyValuableJewel { Mod >= 3 jewels_priority + jewels_general + jewels_mult + jewels_minion }
		}
#------------------------------------
#   [1234] Misc
#------------------------------------
		Show HighResStat { Mod >= 3 res_fire[2] + res_light[2] + res_cold[2] + res_chaos[2] + str[2] + dex[2] + int[2] + res_omni[2]  }
	}
}

#===============================================================================================================
# [[0200]] Exotic Mods Filtering
#===============================================================================================================

var exotic_incursion = "Citaqualotl" "Guatelitzi" "Matatl" "Puhuarte" "Tacati" "Topotante" "Xopec";
var exotic_delve = "of the Underground" "Subterranean";
var exotic_warband = "Betrayer's" "Brinerot" "Deceiver's" "Mutewind" "Redblade" "Turncoat's";

var exotic_bestiary_t1 = "of Farrul" "of Fenumus";
var exotic_bestiary_t2 = "of Craiceann" "of Saqawal";

var t1veiled = "Catarina's Veiled" "Elreon's Veiled" "Leo's Veiled" "Rin's Veiled" "Vagan's Veiled" "Vorici's Veiled";
var t2veiled = "Gravicius' Veiled" "Guff's Veiled" "Haku's" "It That Fled's Veiled" "Korell's Veiled" "of Aisling's Veil" "of Cameria's Veil" "of Hillock's Veil" "of Janus' Veil" "of Jorgin's Veil" "Riker" "Tora's Veiled";

Section IdModSection : IdMods
{
	Section Rare : Rarity "Rare", Auto("ExoticMods")
	{
#------------------------------------
#   [1234] Veiled/Betrayal
#------------------------------------
		Show t1veil     { Mod t1veiled; }
		Show t2veil     { Mod t2veiled; }
		Show DuoVeil    { Mod "Veiled"; Mod "of the Veil"; }
		Show SmallVeil1 { Mod "Veil"; Width <= 2; Height <= 2; } 
		Show SmallVeil2 { Mod "Veil"; Width <= 1; Height <= 4; }
		Show VeilRest   { Mod "Veil"; }
#------------------------------------
#   [1234] Incursion/Temple Mods
#------------------------------------
		Show IncursionSpeedTraps { Mod "Matatl's"; Class "Boots"; }
		Show IncursionLifeChest  { Mod "Guatelitzi's"; Class "Body Armour"; }
		Show IncursionSumonner   { Mod "Citaqualotl's"; Class "Claws" "Daggers" "One Hand" "Sceptre" "Staves" "Wand"; }
		Show IncursionCaster     { Mod "Matatl's" "Tacati" "Topotante's"; Class "Shields" "Rune Dagger" "Sceptre" "Staves" "Wand"; }
		Show IncursionElemental  { Mod "Topotante's"; Class "Bows" "Claws" "Daggers" "Thrusting"; }
		Show IncursionAttack     { Mod "of Tacati" "Tacati's"; Class "Bows" "Claws" "Daggers" "One Hand" "Two Hand" "Warstaves"; }
		Show IncursionGloveHelm  { Mod "Puhuarte" "Topotante"; Class "Gloves" "Helmets"; }
		Show IncursionJwlry		 { Mod exotic_incursion; Class "Amulets" "Belts" "Rings"; }
		Show IncursionRandom     { Mod exotic_incursion; }
#------------------------------------
#   [1234] Bestiary
#------------------------------------
		Show BestiaryValuable { Mod exotic_bestiary_t1 }
		Show BestiaryOther    { Mod exotic_bestiary_t2 }
#------------------------------------
#   [1234] Other
#------------------------------------
		Show Delve { Mod exotic_delve };
		Show Warband { Mod exotic_warband };
		Show Essence { Mod "of the Essence" };
		Show Crafting { Mod "of Crafting" "of Spellcraft" "of Weaponcraft" };
	}
}
#===============================================================================================================
# [[0200]] Exotic Item Classes
#===============================================================================================================
Section ExoticItemClasses
{	
#------------------------------------
#   [1234] Trinkets
#------------------------------------	
	Section Trinkets : Class "Trinket", Auto("exotic->trinkets")
	{
		Show AnyTrinket { Empty(); }
	}
#------------------------------------
#   [1234] Magic Watchstones
#------------------------------------	
	Section Watchstones : Rarity <= Rare, Auto("exotic->watchstones")
	{
		Show CraftableWatchstone { BaseType == bases_watchstones }
	}
#------------------------------------
#   [1234] Craftable Invitations
#------------------------------------	
	Section Invitations : Rarity <= Rare, Auto("exotic->invitation")
	{
		Show CraftableInvitation { BaseType == bases_watchstones }
	}	
#------------------------------------
#   [1234] Secret Society Equipment
#------------------------------------
	Section Fishing : Class "Fishing Rod", Auto("exotic->redacted")
	{
		Show SCP3889 { Empty(); }
	}
}

#===============================================================================================================
# [[0200]] Exotic Item Variations
#===============================================================================================================
Section ExoticVariations
{	
#------------------------------------
#   [1234] Double Corruptions
#------------------------------------	
	Section RExoticVariations : Rarity Rare
	{
		Section DoubleCorrupted : Corrupted True, CorruptedMods >= 2, Auto("exotic->corruptions")
		{
			Show DoubleCorruptedJwlry { Class "Amulet" "Belt" "Jewel" "Ring"; }
			Show DoubleCorruptedAny { Empty(); }
		}
	}
#------------------------------------
#   [1234] Abyss Jeweled Rares
#------------------------------------	
	Section NMRExoticVariations : Rarity <= Rare
	{
		Section AbyssJewelItems : SocketGroup "A", Auto("exotic->sockets")
		{
			Show AnyNonBelt { Class classes_nonJwlryEquip; }
		}
#------------------------------------
#   [1234] Synthesised
#------------------------------------
		Section Synthesised : SynthesisedItem True, Auto("exotic->synthesised")
		{
			Show SynthSelected { BaseType bases.crafting.synthesised.any }
			Show SynthClasses { Class classes_synth }
			Show SynthRandom { Empty(); }
		}
#------------------------------------
#   [1234] Fractured
#------------------------------------		
		Section Fractured : FracturedItem True, Auto("exotic->fractured")
		{
			Show FractSelected { BaseType bases.crafting.fractured.any }
			Show FractClasses { Class classes_fract }
			Show FractRandom { Empty(); }
		}
#------------------------------------
#   [1234] Enchanted
#------------------------------------
		Section Enchanted : AnyEnchantment True, Auto("exotic->enchanted")
		{
			Show Exotic { Class classes_exoticEnch }
			Show Helmets { Class "Helmets" }
			Show GlovesBoots { Class "Gloves" "Boots" }
		}
	}
}
#===============================================================================================================
# [[0200]] Jewels
#===============================================================================================================
Section Jewels
{
#------------------------------------
# [1234] Special Cases
#------------------------------------
	Section IdentifiedJewels : Identified True, Auto("jewels->special")
	{
		Section CorruptedJewels : Corrupted True, Rarity Rare, CorruptedMods >= 1
		{
			Show 1modcorrupted { Mod jewels_corruptedModsMinimum; BaseType "Cobalt Jewel" "Crimson Jewel" "Viridian Jewel"; }
		}

		Section IdedUncorruptedJewels : Corrupted False, Rarity <= Rare
		{
			Show 1modcorrupted { HasExplicitMod "Shimmering" "Vivid" "Stalwart" "Resplendent"; }
		}
	}
#------------------------------------
# [1234] Cluster Jewels
#------------------------------------
	Section ClusterJewels : Auto("jewels->cluster"), Rarity <= Rare
	{
		Show OptimalHighLarge { BaseType "Large Cluster Jewel"; ItemLevel >= 82; EnchantmentPassiveNum <= 8; }
		Show HighLarge { BaseType "Large Cluster Jewel"; EnchantmentPassiveNum <= 8; }
		Show Large { BaseType "Large Cluster Jewel"; }

		Show OptimalHighMedium { BaseType "Medium Cluster Jewel"; ItemLevel >= 84; EnchantmentPassiveNum <= 5; }
		Show HighMedium { BaseType "Medium Cluster Jewel"; EnchantmentPassiveNum <= 5; }
		Show Medium { BaseType "Medium Cluster Jewel"; }

		Show HighSmall { BaseType "Small Cluster Jewel"; ItemLevel >= 82; }
		Show Small { BaseType "Small Cluster Jewel"; }
	}
#------------------------------------
# [1234] Abyss Jewels
#------------------------------------
	Section AbyssJewels : Class "Abyss Jewel", Auto("jewels->abyss")
	{
		Show HighRare { Rarity Rare; ItemLevel >= 82; }
		Show HighMagic { Rarity Magic; ItemLevel >= 82; }
		Show AnyRare { Rarity Rare; }
		Show AnyMagic { Rarity Rare; }
	}
#------------------------------------
# [1234] Generic Jewels
#------------------------------------
	Section GenericJewels : Class "Jewel", BaseType "Cobalt Jewel" "Crimson Jewel" "Viridian Jewel", Auto("jewels->generic")
	{
		Show AnyRare { Rarity Rare; }
		Show AnyMagic { Rarity <= Magic; }
	}
}
#===============================================================================================================
# [[0200]] Recipes and 5links
#===============================================================================================================

#------------------------------------
# [1234] Link Based
#------------------------------------
Section SocketsLinks : Rarity <= Rare, Auto("SocketsLinks")
{
	Show 5LinksLeveling	{ LinkedSockets >= 5; AreaLevel <= 67; }
	Show 5Link6Sockets	{ Sockets >= 6; LinkedSockets >= 5; }
	Show 5Links			{ LinkedSockets >= 5; AreaLevel >= 67; }
	Show 6Sockets		{ Sockets >= 6; }
}

#===============================================================================================================
# [[0200]] High Level Crafting Bases
#===============================================================================================================

#------------------------------------
# [1234] ILVL 86
#------------------------------------

Section EndgameCraftingBases : Rarity <= Rare, Clean()
{
	Cont RareDecorator { Empty(); }

	Section ILVL86 : Auto("normalcraft->i86"), ItemLevel >= 86
	{
		Show t1 { BaseType bases.crafting.general.t1; }
		Show t2 { BaseType bases.crafting.general.t2; }
		Show t3 { BaseType bases.crafting.general.t3; }
	}

#------------------------------------
# [1234] ILVL 84
#------------------------------------

	Section ILVL84 : Auto("normalcraft->i84"), ItemLevel >= 84
	{
		Show t1 { BaseType bases.crafting.general.t1; }
		Show t2 { BaseType bases.crafting.general.t2; }
		Show t3 { BaseType bases.crafting.general.t3; }
	}

#------------------------------------
# [1234] ILVL ANY
#------------------------------------

	Section ILVLANY : Auto("normalcraft->rest"), ItemLevel <= 83, ItemLevel >= 60
	{
		Show t1 { BaseType bases.crafting.general.t1; }
		Show t2 { BaseType bases.crafting.general.t2; }
		Show t3 { BaseType bases.crafting.general.t3; }
	}

	Cont RareDecoratorRemover { Empty(); }
}

# Minimal list of bases for harvest specific crafting. This list is really not conclusive, but you can adjust it yourself on filterblade or here.
# Having this list too long will lead to being too flooded with these drops.

Section AdditionalCrafting : Auto("normalcraft->extra"), Rarity < Rare, ItemLevel >= 68, ItemLevel <= 83
{
	Show t1 { BaseType "Eternal Burgonet" "Onyx Amulet" "Sorcerer Boots" "Sorcerer Gloves" "Two-Stone Ring"; }
}

#------------------------------------
# [1234] RGB Endgame
#------------------------------------
Section RGBendgame : SocketGroup "RGB", Rarity < Rare, AreaLevel >= 67, Auto("EndgameRGB")
{
	Show RGBSmall1	{ Width <=2; Height <=2; }
	Show RGBSmall2	{ Width <=1; Height <=4; }
	Show RGBLarge	{ Width >=2; Height >=4; }
	Show RGBMedium	{ Empty(); }
}
#------------------------------------
# [1234] Chisel Recipes
#------------------------------------
Section ChiselRecipe : BaseType "Gavel" "Rock Breaker" "Stone Hammer", Auto("ChiselRecipe")
{
	Show Chisel20 { Quality >= 20; Rarity < Unique; }
	Show ChiselHighQualNormal { Corrupted False; Quality > 14; Rarity Normal; }
	Show ChiselHighQualMagic  { Corrupted False; Quality > 17; Rarity Magic; }
	Show ChiselAnyQualMagic  { Corrupted False; Rarity Magic; }
	Show ChiselAnyQualNormal { Corrupted False; Rarity Normal; }
}

#===============================================================================================================
# [[0200]] Chancing Bases
#===============================================================================================================

Section Chancing : Clean(), Rarity Normal, Auto("chancing")
{
	Show hh { BaseType == bases.chancing.higher; }
	Show t2 { BaseType == bases.chancing.any; }
}

#===============================================================================================================
# [[0200]] Endgame Flasks
#===============================================================================================================
Section EndgameFlasks : Auto("EndgameFlasks"), Rarity <= Magic, AreaLevel >= 66
{
#------------------------------------
# [2701] High quality assorted flasks
#------------------------------------
	Section HighQualityEndgameFlasks : Quality >= 15
	{
		Show HighQualUtility { AreaLevel <= 77; BaseType bases.flask.utilityassorted; }
		Show HighQUalLifeMana { AreaLevel <= 72; BaseType bases.flask.lifemanaassorted; }
	}

	Section 20QualEndgameFlasks : Quality >= 20
	{
		Show Any20QualFlask { BaseType "Flask"; }
	}
#------------------------------------
# [2701] Utility OR quality flasks
#------------------------------------
	Section UtilityEndgameFlasks
	{
		Show AsortedUtility { BaseType bases.flask.utilityassorted; AreaLevel <= 77; }
		Show AnyUtility { Class "Utility Flasks"; AreaLevel <= 72; }
	}

	Section QualityEndgameFlasks
	{
		Show AsortedUtility { BaseType "Flask"; Quality >= 15; AreaLevel <= 77; }
		Show AnyUtility { BaseType "Flask"; Quality >= 1; AreaLevel <= 77; }
	}
#------------------------------------
# [2705] Early mapping life/mana/utility flasks
#------------------------------------
	Section EarlyMappingLifeManaFlasks : BaseType bases.flask.lifemanaassorted
	{
		Show EarlyMappingLifeMana { AreaLevel <= 69; }
	}
}

#===============================================================================================================
# [[0200]] Misc Rules
#===============================================================================================================

Section MiscEndgameRules : Auto("MiscEndgameRules"), Clean()
{
	Show Overquality { Quality >= 29; ItemLevel >= 75; DropLevel >= 50; Rarity <= Rare; Class classes_equip }
	Show EarlyEndgame4Link { LinkedSockets >= 4; AreaLevel <= 72; AreaLevel >= 68; Class "Body Armour" "Boots" "Gloves" "Helmets"; }
}

#===============================================================================================================
# [[0200]] Hide Layer 1 - Normal and Magic Endgame Gear
#===============================================================================================================

Section HideLayer1 : Auto("HideLayer")
{
	Hide NormalMagicEndgame { AreaLevel >= 68; Rarity < Rare; Class classes_equip; }
}

#===============================================================================================================
# [[0200]] Rare Item Decorators
#===============================================================================================================

Section RareDecorators : Auto("Rare->Decorators"), Rarity Rare
{
	Cont LargeRares { Height >= 3; Width >= 2; }
	Cont MediumRares1 { Height >= 3; Width = 1; }
	Cont MediumRares2 { Height = 2; Width = 2; }
	Cont TinyRares { Height = 1; Width <= 2; }

	Cont ILVL68 { ItemLevel >= 68; }
	Cont ILVL75 { ItemLevel >= 75; }
	Cont ILVL85 { ItemLevel >= 85; }

	Cont CorruptedRares { Corrupted True; }
}

Section EndgameRares : Rarity Rare, ItemLevel >= 68
{
#===============================================================================================================
# [[0200]] Endgame - Rare - Exotic Corrupted Items
#===============================================================================================================
	Section BreachRings : Class "Rings", BaseType "Breach", Auto("rare->exotic->breachrings")
	{
		Show Any { Empty(); }
	}

	Section Talismans : Class "Amulets", AnyEnchantment True, Auto("rare->exotic->talisman")
	{
		Show T1AttackTalisman { BaseType bases.talismans.attack.any + bases.talismans.universal.any; Mod amu_life[2] + "Dazzling" "Resplendent"; Mod >=3 top2base + merged_amu_attack2 + universal2 }
		Show T1CasterTalisman { BaseType bases.talismans.caster.any + bases.talismans.universal.any; Mod amu_life[2] + "Dazzling" "Resplendent";  Mod >=3 top2base + merged_amu_caster2 + universal2 + amu_esp[2]; }
		Show T2AttackTalisman { BaseType bases.talismans.attack.any + bases.talismans.universal.any + bases.talismans.damagetypes.any; Mod amu_life[3] + "Dazzling" "Resplendent"; Mod >=3 top3base + merged_amu_attack3 + universal3 }
		Show T2CasterTalisman { BaseType bases.talismans.caster.any + bases.talismans.universal.any + bases.talismans.damagetypes.any; Mod amu_life[3] + "Dazzling" "Resplendent";  Mod >=3 top3base + merged_amu_caster3 + universal3 + amu_esp[2]; }

		Show T1StatTalisman { BaseType bases.talismans.stats.any; Mod amu_life[2]; Mod amu_allat[3]; Mod str[2] + dex[2] + int[2]; }
		Show T2StatTalisman { BaseType bases.talismans.stats.any; Mod amu_allat[3]; Mod str[3] + dex[3] + int[3]; }

		Show T3DecentModsTalisman { BaseType "Talisman"; Mod >= 3 amu_life[3] + top2base + merged_amu_attack3 + merged_amu_caster3 + universal2 + amu_esp[1] + amu_arp[1] + amu_evp[1] + "Dazzling" "Resplendent"; }
		Show T3DecentTypeTalisman { BaseType bases.talismans.universal.any + bases.talismans.attack.any + bases.talismans.attack.any };

		Show Any { BaseType "Talisman"; Empty(); }
	}

#===============================================================================================================
# [[0200]] Endgame - Rare - Accessoires
#===============================================================================================================
	Section EndgameRareRingsAmulets : Class "Rings" "Amulets", Auto("rr->amuring")
	{
		Show T1 { BaseType bases.rares.eg.ringsamu.t1; }
		Show T2 { BaseType bases.rares.eg.ringsamu.T2; }
		Show T3 { BaseType bases.rares.eg.ringsamu.t3; }
	}

	Section EndgameRareBelts : Class "Belts", Auto("rr->belts")
	{
		Show T1 { BaseType bases.rares.eg.belts.t1; }
		Show T2 { BaseType bases.rares.eg.belts.t2; }
		Show T3 { BaseType bases.rares.eg.belts.t3; }
	}

#===============================================================================================================
# [[0200]] Endgame - Rare - Gear - T1 - handpicked
#===============================================================================================================
	Section EndgameRareGear : Auto("rr")
	{
		Show T1weapons { BaseType bases.rares.eg.t1.weapons }
		Show T1armours { BaseType bases.rares.eg.t1.armours }

#===============================================================================================================
# [[0200]] Endgame - Rare - Gear - T2 - handpicked
#===============================================================================================================
		Show T2weapons { BaseType bases.rares.eg.t2.weapons }
		Show T2armours { BaseType bases.rares.eg.t2.armours }

#===============================================================================================================
# [[0200]] Endgame - Rare - Gear - T3 - droplevel-based
#===============================================================================================================
		Show t3runedaggers { DropLevel >= t3runedaggers; Class "Rune Daggers"; }
		Show t3daggers { DropLevel >= t3daggers; Class "Daggers"; }
		Show t3claws { DropLevel >= t3claws; Class "Claws"; }
		Show t3wands { DropLevel >= t3wands; Class "Wands"; }
		Show t3foils { DropLevel >= t3foils; Class "Thrusting One Hand Swords"; Height 4; }
		Show t3swords1h { DropLevel >= t3swords1h; Class "One Hand Swords"; Height < 4 }
		Show t3maces1h { DropLevel >= t3maces1h; Class "One Hand Maces"; }
		Show t3axes1h { DropLevel >= t3axes1h; Class "One Hand Axes"; }
		Show t3sceptres { DropLevel >= t3sceptres; Class "Sceptres"; }
		Show t3warstaves { DropLevel >= t3warstaves; Class "Warstaves"; }
		Show t3staves { DropLevel >= t3staves; Class "Staves"; }
		Show t3swords2h { DropLevel >= t3swords2h; Class "Two Hand Swords"; }
		Show t3axes2h { DropLevel >= t3axes2h; Class "Two Hand Axes"; }
		Show t3maces2h { DropLevel >= t3maces2h; Class "Two Hand Maces"; }
		Show t3bows { DropLevel >= t3bows; Class "Bows"; }
		Show t3boots { DropLevel >= t3boots; Class "Boots"; }
		Show t3gloves { DropLevel >= t3gloves; Class "Gloves"; }
		Show t3helmets { DropLevel >= t3helmets; Class "Helmets"; }
		Show t3body { DropLevel >= t3body; Class "Body Armours"; }
		Show t3shields { DropLevel >= t3shields; Class "Shields"; Height <= 2; }
		Show t3shieldsl { DropLevel >= t3shieldsl; Class "Shields"; Height >= 3; }
		Show t3quivers { DropLevel >= t3quivers; Class "Quivers"; }

#===============================================================================================================
# [[0200]] Endgame - Rare - Gear - T4 - rest
#===============================================================================================================
		Show t4endgamerares { Class rare_gear_classes; }
	}
}

#===============================================================================================================
# [[0200]] Hide Layer 2 - Rare Gear
#===============================================================================================================
Section HideLayer2 : Auto("HideLayer")
{
	Hide RaresEndgame { ItemLevel >= 68; Rarity Rare; Class classes_equip; }
}

#===============================================================================================================
# [[0200]] Heist Gear
#===============================================================================================================
Section HeistFollowerGear : Rarity <= Rare
{
#------------------------------------
# [3001] Heist Cloak
#------------------------------------
	Section HeistCloak : Class "Heist Cloak", Auto("Heist->Cloak")
	{
		Show t1highlevel { BaseType bases.heist.cloak.t1; ItemLevel >= levels_t1_heist_cloak; }
		Show t1 { BaseType bases.heist.cloak.t1; }
		Show t2 { BaseType bases.heist.cloak.t2; }
		Show t3any { Empty(); }
	}
#------------------------------------
# [3002] Heist Brooch
#------------------------------------
	Section HeistBrooch : Class "Heist Brooch", Auto("Heist->Brooch")
	{
		Show t1highlevel { BaseType bases.heist.brooch.t1; ItemLevel >= levels_t1_heist_brooch; }
		Show t1 { BaseType bases.heist.brooch.t1; }
		Show t2 { BaseType bases.heist.brooch.t2; }
		Show t3any { Empty(); }
	}
#------------------------------------
# [3003] Heist Gear
#------------------------------------
	Section HeistGear : Class "Heist Gear", Auto("Heist->Gear")
	{
		Show t1highlevel { BaseType bases.heist.gear.t1; ItemLevel >= levels_t1_heist_gear; }
		Show t1 { BaseType bases.heist.gear.t1; }
		Show t2 { BaseType bases.heist.gear.t2; }
		Show t3any { Empty(); }
	}
#------------------------------------
# [3004] Heist Tool
#------------------------------------
	Section HeistTools : Class "Heist Tool", Auto("Heist->Tool")
	{
		Show t1highlevel { BaseType bases.heist.tool.t1; ItemLevel >= levels_t1_heist_tool; }
		Show t1 { BaseType bases.heist.tool.t1; }
		Show t2 { BaseType bases.heist.tool.t2; }
		Show t3any { Empty(); }
	}
}

#===============================================================================================================
# [[3900]] Gem Tierlists
#===============================================================================================================

Section Gems : Class "Gems"
{
#------------------------------------
# [3901] Exceptional Gems - Awakened and AltQuality
#------------------------------------
	Section GemsExceptional : Auto("gems-exceptional")
	{
		Show AwaT1 { BaseType gems.t1awa; }
		Show AwaAny { BaseType "Awakened"; }
		Show DivT1 { GemQualityType Divergent; BaseType gems.t1div; }
		Show PhaT1 { GemQualityType Phantasmal; BaseType gems.t1pha; }
		Show AnoT1 { GemQualityType Anomalous; BaseType gems.t1ano; }
		Show AltAny { AlternateQuality True; }
		Show 2020z { Quality >= 20; GemLevel >= 20; BaseType gems.t1_2020z }
		Show 2120 { Quality >= 20; GemLevel >= 21; BaseType gems.t1_2120 }
		Show 2123 { Quality >= 23; GemLevel >= 21; BaseType gems.t1_2123 }
	}

#------------------------------------
# [3901] Exceptional Gems - Special gems
#------------------------------------
	Section GemsSpecial : Auto("gems-special")
	{
		Show ex6lvlgems { BaseType gems.untiered.sixlevelgems; GemLevel >= 6; }

		Show exSpecialE4 { BaseType gems.untiered.empowerclassgems; GemLevel >= 4; }
		Show exSpecialE2 { BaseType gems.untiered.empowerclassgems; GemLevel >= 2; }
		Show exSpecialEQ { BaseType gems.untiered.empowerclassgems; Quality >= 15; Corrupted False; }
		Show exSpecial { BaseType gems.untiered.specialGems; }
	}
#------------------------------------
# [3902] Gems during leveling
#------------------------------------
	Section Gems-Leveling : Auto("gems-leveling")
	{
		Show FirstZone { AreaLevel 1; }
		Show LevelingVaal { AreaLevel < 65; BaseType "Vaal"; Quality <= 5; GemLevel <= 5; }
		Show Leveling { AreaLevel < 65; Quality = 0; GemLevel <= 5; }
	}
#------------------------------------
# [3902] High Quality and Leveled Gems
#------------------------------------
	Section GemsGeneric : Auto("gems-generic")
	{
		Show LT1 { GemLevel >= 21 }
		Show QT1 { Quality >= 23 }

		Cont DecoGemsVaalBgDrop { BaseType "Vaal"; }

		Show QT2 { Quality >= 20 }
		Show LT2 { GemLevel >= 19 }

		Show QT3 { Quality >= 14 }
		Show LT3 { GemLevel >= 17 }

		Show QT4 { Quality >= 1 }	
		Show LT4 { GemLevel >= 1 }

		Show CorruptedVaalAny { BaseType "Vaal"; Corrupted True; }

		Show any { Empty(); }
	}
}

#===============================================================================================================
# [[3900]] REPLICA UNIQUES
#===============================================================================================================
Section Replicas : Auto("unique->replicas"), Replica True, Rarity Unique
{
	Show t1 { BaseType uniques.replicas.t1; }
	Show t2 { BaseType uniques.replicas.t2; }
	Show multi { BaseType uniques.replicas.multi; }
	Show t3 { BaseType uniques.replicas.t3; }
	Show restex { Empty(); }
}

#===============================================================================================================
# [[4400]] Special Maps
#===============================================================================================================
Section Maps : Class "Maps"
{
#------------------------------------
# [4402] Unique Maps
#------------------------------------
	Section UniqueMaps : Rarity Unique, Auto("unique->maps")
	{
		Show ex { BaseType uniques.maps.ex; MapTier 16; }
		Show t1 { BaseType uniques.maps.t1; }
		Show t2 { BaseType uniques.maps.t2; }
		Show t3 { BaseType uniques.maps.t3; }
		Show t4 { BaseType uniques.maps.t4; }
		Show restex { Empty(); }
	}

#------------------------------------
# [4404] Blighted maps
#------------------------------------
	Section BlightedMaps : BlightedMap True, Auto("maps->blighted")
	{
		Show t1 { MapTier >= Maps.Blighted.HighTier }
		Show Any { Empty(); }
	}

#------------------------------------
# [4405] Delirium/Blight/Enchanted Maps!
#------------------------------------
	Section EnchantedMaps : AnyEnchantment True, Auto("maps->enchanted")
	{
		Show t1 { MapTier >= Maps.Enchanted.HighTier }
		Show Any { Empty(); }
	}

#------------------------------------
# [4406] Beyond-Nemesis Maps, for those juicy sextants.
#------------------------------------
	Section IdentifiedMaps : Identified True, Auto("maps->Identified")
	{
		Show NemesisBeyond { HasExplicitMod "Otherworldly"; HasExplicitMod "Antagonist's"; }
	}

#===============================================================================================================
# [[0200]] Normal Map Progression
#===============================================================================================================
	Section GenericMaps : Auto("maps")
	{
		Cont deco_mapup_t16 { MapTier >= 16; AreaLevel < 83; }
		Show maps_a_t16 { MapTier >= 16; }
		Cont deco_mapup_t15 { MapTier > 15; AreaLevel < 82; }
		Show maps_a_t15 { MapTier = 15; }
		Cont deco_mapup_t14 { MapTier > 14; AreaLevel < 81; }
		Show maps_a_t14 { MapTier = 14; }
		Cont deco_mapup_t13 { MapTier > 13; AreaLevel < 80; }
		Show maps_b_t13 { MapTier = 13; }
		Cont deco_mapup_t12 { MapTier > 12; AreaLevel < 79; }
		Show maps_b_t12 { MapTier = 12; }
		Cont deco_mapup_t11 { MapTier > 11; AreaLevel < 78; }
		Show maps_b_t11 { MapTier = 11; }
		Cont deco_mapup_t10 { MapTier > 10; AreaLevel < 77; }
		Show maps_c_t10 { MapTier = 10; }
		Cont deco_mapup_t9  { MapTier > 9; AreaLevel < 76; }
		Show maps_c_t9  { MapTier = 9; }
		Cont deco_mapup_t8  { MapTier > 8; AreaLevel < 75; }
		Show maps_c_t8  { MapTier = 8; }
		Cont deco_mapup_t7  { MapTier > 7; AreaLevel < 74; }
		Show maps_c_t7  { MapTier = 7; }
		Cont deco_mapup_t6  { MapTier > 6; AreaLevel < 73; }
		Show maps_c_t6  { MapTier = 6; }
		Cont deco_mapup_t5  { MapTier > 5; AreaLevel < 72; }
		Show maps_d_t5  { MapTier = 5; }
		Cont deco_mapup_t4  { MapTier > 4; AreaLevel < 71; }
		Show maps_d_t4  { MapTier = 4; }
		Cont deco_mapup_t3  { MapTier > 3; AreaLevel < 70; }
		Show maps_d_t3  { MapTier = 3; }
		Cont deco_mapup_t2  { MapTier > 2; AreaLevel < 69; }
		Show maps_d_t2  { MapTier = 2; }
		Cont deco_mapup_t1  { MapTier > 1; AreaLevel < 68; }
		Show maps_d_t1  { MapTier = 1; }
	}

	Show restex { Empty(); }
}

#------------------------------------
# [4403] Labyrinth items, Offerings
#------------------------------------

Section Labyrinth : Auto("LabyrinthOfferings")
{
	Show Offerings { BaseType "Offering to the Goddess"; }
	Show OfferingsUpgraded { BaseType "Dedication to the Goddess" "Gift to the Goddess" "Tribute to the Goddess"; }
}

#===============================================================================================================
# [[4500]] Heist Contracts and Blueprints
#===============================================================================================================

Section HeistUniques : Rarity Unique, Class "Blueprint" "Contract", Auto("Unique->Heist")
{
	Show Any { Empty(); }
}

Section HeistContracts : Auto("Heist->Contract"), Class "Contract"
{
	Show HandPicked { BaseType Heist.Contract.Handpicked; }
	Show Any { Empty(); }
}

Section HeistBlueprint : Auto("Heist->Blueprint"), Class "Blueprint"
{
	Show HandPicked { BaseType Heist.Blueprint.Handpicked; }
	Show Any { Empty(); }
}

#===============================================================================================================
# [[4500]] Fragments
#===============================================================================================================

Section MapFragments : Class "Map Fragments"
{
#------------------------------------
# [4701] Scarabs
#------------------------------------
	Section Scarabs : Auto("Fragments->scarabs")
	{
		Show t1 { BaseType fragments.scarabs.t1; }
		Show t2 { BaseType fragments.scarabs.t2; }
		Show t3 { BaseType fragments.scarabs.t3; }
		Show t4 { BaseType fragments.scarabs.t4; }
		Show restex { BaseType "Scarab;"; }
	}

#------------------------------------
# [4702] Regular Fragment Tiering
#------------------------------------
	Section FragsGeneric : Auto("Fragments")
	{
		Show t1 { BaseType fragments.generic.t1; }
		Show t1p{ BaseType fragments.generic.t1p;}
		Show t2 { BaseType fragments.generic.t2; }
		Show t3 { BaseType fragments.generic.t3; }
		Show t4 { BaseType fragments.generic.t4; }
		Show restex { Empty(); }
	}
}

#===============================================================================================================
# [[4800]] Currency - Exceptions - Stacked Currency
#===============================================================================================================

Section StackedCurrency : Auto("Currency->Stacked"), Class "Currency"
{
	Show splinters_t1	{ StackSize >= 3; BaseType currency.stacked.splinters1; }
	Show splinters_t2	{ StackSize >= 3; BaseType currency.stacked.splinters2; }
	Show orbs_chaos		{ StackSize >= 3; BaseType currency.stacked.chaos; }
	Show orbs_alchemy	{ StackSize >= 3; BaseType currency.stacked.alch; }
	Show orbs_alt		{ StackSize >= 3; BaseType currency.stacked.alt; }
	Show orbs_transmute	{ StackSize >= 3; BaseType currency.stacked.trans; }
	Show orbs_wisdom	{ StackSize >= 3; BaseType currency.stacked.scroll; }
}

#===============================================================================================================
# [[4900]] Currency - Exceptions - Leveling Currencies
#===============================================================================================================

Section LevelingCurrencies : Auto("Currency->Leveling"), Class "Currency", AreaLevel <= 67
{
	Show essences { BaseType == currency.leveling.essences; }
	Show trans { BaseType == currency.leveling.trans; }
	Show aug { BaseType == currency.leveling.aug; }
	Show portal { BaseType == currency.leveling.portal; }
	Show wisdom { BaseType == currency.leveling.wisdom; }
}

#===============================================================================================================
# [[4900]] Currency - Regular Currency Tiering
#===============================================================================================================

Section CurrencyTiering : Auto("Currency"), Class "Currency"
{
	Show t11 { BaseType == currency.generic.t11; }
	Show t12 { BaseType == currency.generic.t12; }
	Show t21 { BaseType == currency.generic.t21; }
	Show t22 { BaseType == currency.generic.t22; }
	Show t23 { BaseType == currency.generic.t23; }
	Show t31 { BaseType == currency.generic.t31; }
	Show t32 { BaseType == currency.generic.t32; }
	Show t33 { BaseType == currency.generic.t33; }
	Show t41 { BaseType == currency.generic.t41; }
	Show t42 { BaseType == currency.generic.t42; }
	Show t43 { BaseType == currency.generic.t43; }
}

#===============================================================================================================
# [[4900]] Currency - SPECIAL
#===============================================================================================================

#------------------------------------
# [5103] Incursion - Vials
#------------------------------------

Section CurrencyVials : Auto("vials"), Class "Currency"
{
	Show t1 { BaseType currency.vials.t1; }
	Show t2 { BaseType currency.vials.t2; }
	Show t3 { BaseType currency.vials.t3; }
	Show restex { BaseType "Vial of"; }
}

#------------------------------------
# [5104] Delirum Orbs
#------------------------------------

Section CurrencyVials : Auto("currency->deliriumorbs"), Class "Currency"
{
	Show t1 { BaseType currency.deliriumorb.t1; }
	Show t2 { BaseType currency.deliriumorb.t2; }
	Show t3 { BaseType currency.deliriumorb.t3; }
	Show restex { BaseType "Vial of"; }
}

#------------------------------------
# [5104] Delve - Resonators
#------------------------------------

Section CurrencyDelveResonator : Auto("currency->resonator"), Class "Delve Stackable Socketable Currency"
{
	Show t1 { BaseType == currency.resonator.t1; }
	Show t2 { BaseType == currency.resonator.t2; }
	Show t3 { BaseType == currency.resonator.t3; }
	Show restex { Empty(); }
}

#------------------------------------
# [5104] Delve - Fossils
#------------------------------------

Section CurrencyDelveFossil : Auto("currency->fossil"), Class "Currency"
{
	Show t1 { BaseType == currency.fossil.t1; }
	Show t2 { BaseType == currency.fossil.t2; }
	Show t3 { BaseType == currency.fossil.t3; }
	Show t4 { BaseType == currency.fossil.t4; }
	Show restex { BaseType "Fossil"; }
}

#------------------------------------
# [5104] Blight - Oils
#------------------------------------

Section CurrencyBlightOils : Auto("currency->oil"), Class "Currency"
{
	Show t1 { BaseType == currency.oil.t1; }
	Show t2 { BaseType == currency.oil.t2; }
	Show t3 { BaseType == currency.oil.t3; }
	Show t4 { BaseType == currency.oil.t4; }
	Show restex { BaseType "Oil"; }
}

#------------------------------------
# [5104] Essences
#------------------------------------

Section CurrencyEssence : Auto("currency->essence"), Class "Currency"
{
	Show t1 { BaseType == currency.essence.t1; }
	Show t2 { BaseType == currency.essence.t2; }
	Show t3 { BaseType == currency.essence.t3; }
	Show t4 { BaseType == currency.essence.t4; }
	Show t5 { BaseType == currency.essence.t5; }
	Show t6 { BaseType == currency.essence.t6; }
}

#------------------------------------
# [5104] Incubators
#------------------------------------

Section CurrencyIncubators : Auto("currency->incubators"), Class "Incubator"
{
	Show leveledex { ItemLevel >= 81; BaseType = currency.incubators.leveledex; }

	Show t1 { BaseType == currency.incubators.t1; }
	Show t2 { BaseType == currency.incubators.t2; }
	Show t3 { BaseType == currency.incubators.t3; }
	Show t4 { BaseType == currency.incubators.t4; }
	Show restex { Empty(); }
}

#------------------------------------
# [5104] Others
#------------------------------------

Section CurrencyExotic : Auto("currency->others"), Class "Currency"
{
	Show harbinger { BaseType == "Deregulation Scroll" "Electroshock Scroll" "Fragmentation Scroll" "Haemocombustion Scroll" "Specularity Scroll" "Time-light Scroll"; }
	Show misc { BaseType == "Cartographer's Seal" "Imprint" "Unshaping Orb"; }
}

#===============================================================================================================
# [[4900]] Currency - Prophecies
#===============================================================================================================

Section CurrencyProphecy : Auto("currency->prophecy"), Class "Currency", BaseType "Prophecy"
{
	Show t1 { Prophecy == currency.prophecy.t1; }
	Show t2 { Prophecy == currency.prophecy.t2; }
	Show t3 { Prophecy == currency.prophecy.t3; }
	Show t3mapping { Prophecy == currency.prophecy.t3mapping; }
	Show t3council { Prophecy == currency.prophecy.t3council; }
	Show t4upgrade { Prophecy == currency.prophecy.t4upgrade; }
	Show t4drop { Prophecy == currency.prophecy.t4drop; }
	Show t4 { Prophecy == currency.prophecy.t4; }
	Show restex { Empty(); }
}

#===============================================================================================================
# [[4900]] Currency - Splinters and Coins
#===============================================================================================================

#------------------------------------
# [5112] Perandus Coins
#------------------------------------

Section CurrencyCoinsPerandus : Auto("currency->peranduscoins"), Class "Currency", BaseType "Perandus Coin"
{
	Show t1 { StackSize >= stacksize.perandus.t1; }
	Show t2 { StackSize >= stacksize.perandus.t2; }
	Show t3 { StackSize >= stacksize.perandus.t3; }
	Show t4 { Empty(); }
}

#------------------------------------
# [5104] Heist Coins
#------------------------------------

Section CurrencyCoinsHeist : Auto("currency->heist"), Class "Currency"
{
	Show Any { BaseType == "Rogue's Marker"; }
}

#------------------------------------
# [5112] Breach and Legion Splinters
#------------------------------------

Section CurrencySplintersRegular : Auto("currency->splinter"), Class "Currency"
{
	Show t1 { BaseType == currency.splinters.t1; }
	Show t2 { BaseType == currency.splinters.t2; }
	Show t3 { BaseType == currency.splinters.t3; }
}

#------------------------------------
# [5112] Simulacrum Splinters
#------------------------------------

Section CurrencySplinterSimulacrum : Auto("currency->splinter->simulacrum"), Class "Currency", BaseType "Simulacrum Splinter"
{
	Show t1 { StackSize >= stacksize.simulacrum.t1; }
	Show t2 { StackSize >= stacksize.simulacrum.t2; }
	Show t3 { StackSize >= stacksize.simulacrum.t3; }
	Show t4 { StackSize >= stacksize.simulacrum.t4; }
	Show t5 { Empty(); }
}

#===============================================================================================================
# [[4900]] Divination Cards
#===============================================================================================================

Section DivinationCards : Auto("divination"), Class "Divination"
{
	Show t1 { BaseType == divination.t1; }
	Show t2 { BaseType == divination.t2; }
	Show t3 { BaseType == divination.t3; }
	Show tnew { BaseType == divination.tnew; }
	Show t4c { BaseType == divination.t4c; }
	Show t5c { BaseType == divination.t5c; }
	Show t4 { BaseType == divination.t4; }
	Show t5 { BaseType == divination.t5; }
	Show restex { Empty(); }
}

#===============================================================================================================
# [[4900]] Remaining Currency
#===============================================================================================================

Section CurrencyRemaining : Class "Currency", Auto("Currency")
{
	Hide scrollfragments { BaseType "Scroll Fragment"; }
	Show restex { Empty(); }
}

#===============================================================================================================
# [[4900]] Questlike-Items1 (override uniques)
#===============================================================================================================

Section Metamorph : Class "Metamorph", Auto("Metamorph")
{
	Show ILVL80 { ItemLevel >= 80; }
	Show Any { Empty(); }
}

Section HeistTarget : Class "Heist Target"
{
	Show Any { Empty(); }
}

#===============================================================================================================
# [[4900]] Uniques
#===============================================================================================================

Section Unique : Rarity Unique, Auto("unique")
{
#------------------------------------
# [5701] Exceptions #1
#------------------------------------
	Show exTabula { BaseType == "Simple Robe"; SocketGroup "WWWWWW"; }
	Show exSynth  { Class "Rings"; SynthesisedItem True; }
	Show ex6link  { LinkedSockets 6; }
	Show exHarby  { Class "Piece"; }
#------------------------------------
# [5702] Tier 1 uniques
#------------------------------------
	Show t1 { BaseType == uniques.generic.t1; }
#------------------------------------
# [5703] Exceptions #2
#------------------------------------
	Show 2xcorrupteduniques { Corrupted True; CorruptedMods >= 2; }
	Show 2xabyss { Sockets >= "AA"; Class "Boots" "Gloves" "Helmets" }
	Show 5link { LinkedSockets 5; }
#------------------------------------
# [5704] Tier 2 uniques
#------------------------------------
	Show t2 { BaseType == uniques.generic.t2; }
#------------------------------------
# [5705] Multi-Unique bases.
#------------------------------------
# These bases have multiple uniques. One of the uniques, is a high value one
# While others are cheap. We give them a high quality display, while making a normal unique
# Sound to prevent false excitement.
	Show multispecial { BaseType == uniques.generic.multispecial; }
	Show highvinktar { BaseType == "Imperial Staff"; ItemLevel >= 82; }
	Show exjewels { BaseType == "Cobalt Jewel" "Crimson Jewel" "Viridian Jewel"; Class "Jewel"; }
#------------------------------------
# [5708] Tier 3 uniques 
#------------------------------------	
	Show t3boss { BaseType == uniques.generic.t3boss; }
	Show t3 { BaseType == uniques.generic.t3; }
#------------------------------------
# [5709] Tier 4 uniques
#------------------------------------	
	Show hideable2 { BaseType == uniques.generic.hideable2; }
	Show hideable { BaseType == uniques.generic.hideable; }
	Show restex { Empty(); }
}

#===============================================================================================================
# [[4900]] Misc Map Items
#===============================================================================================================

Section MiscMapItems : Class "Misc Map Items", Auto("MiscMapItems")
{
	Show RelicKeys { BaseType "Ancient Reliquary Key" "Timeworn Reliquary Key"; }
	Show Any { Empty(); }
}

#===============================================================================================================
# [[4900]] Questlike-Items2
#===============================================================================================================

Section Questlike : Auto("Questlike")
{
	Show LabyrinthConsumable { Class "Labyrinth"; }
	Show IncursionConsumable { Class "Incursion Item"; }
	Show QuestItems { Class "Pantheon Soul" "Quest"; }
}